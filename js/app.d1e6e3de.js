(function(e){function t(t){for(var s,a,i=t[0],c=t[1],u=t[2],d=0,f=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);l&&l(t);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],s=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(s=!1)}s&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var s={},o={app:0},r=[];function a(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=s,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/Contacts-app/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1f40":function(e,t,n){"use strict";n("619b")},"28e1":function(e,t,n){e.exports=n.p+"img/delete.650cdc57.svg"},"2af7":function(e,t,n){"use strict";n("a6c0")},"4b32":function(e,t,n){},"4b66":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],a=(n("5c0b"),n("2877")),i={},c=Object(a["a"])(i,o,r,!1,null,null,null),u=c.exports,l=n("9483");Object(l["a"])("".concat("/Contacts-app/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("b0c0");var d=n("8c4f"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("div",{staticClass:"home__buttons"},[n("button",{staticClass:"home__button",on:{click:e.toEditPage}},[e._v("Add user")])]),n("UsersTable",{attrs:{isButtons:!0}})],1)},p=[],h=n("5530"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"userTable"},[n("Table",{scopedSlots:e._u([{key:"thead",fn:function(){return[n("tr",[e._l(e.getValues,(function(t,s){return n("th",{key:t+s},[e._v(" "+e._s(e.toUpperCase(t))+" ")])})),e.isButtons?n("th"):e._e()],2)]},proxy:!0},{key:"tbody",fn:function(){return e._l(e.getUsers,(function(t){return n("tr",{key:t.id},[e._l(e.getValues,(function(s){return n("td",{key:s+t.id,attrs:{"data-label":s}},[e._v(" "+e._s("name"===s||"surname"===s?e.toUpperCase(t[s]):t[s])+" ")])})),e.isButtons?n("td",[n("TableButtons",{attrs:{user:t}})],1):e._e()],2)}))},proxy:!0}])})],1)},b=[],_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"table"},[n("thead",[e._t("thead")],2),n("tbody",[e._t("tbody")],2)])},v=[],g=(n("9885"),{}),y=Object(a["a"])(g,_,v,!1,null,"3b1ab170",null),w=y.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"buttons"},[n("button",{staticClass:"buttons__button",on:{click:function(t){return e.openModal("delete")}}},[e._v("Delete")]),n("button",{staticClass:"buttons__button",on:{click:function(t){return e.toEditPage({user:e.user})}}},[e._v("Edit")]),e.showModal.delete?n("DeleteModal",{on:{close:function(t){return e.closeModal("delete")},remove:e.removeUser}}):e._e()],1)},O=[],M=(n("a434"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{attrs:{showButton:!1},on:{close:e.close},scopedSlots:e._u([{key:"header",fn:function(){return[n("span",[e._v("Do you really want to delete?")])]},proxy:!0},{key:"body",fn:function(){return[n("button",{staticClass:"modal__buttons",on:{click:e.remove}},[e._v("Yes")]),n("button",{staticClass:"modal__buttons",on:{click:e.close}},[e._v("No")])]},proxy:!0}])})}),k=[],j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal__mask"},[n("div",{staticClass:"modal__wrapper"},[n("div",{staticClass:"modal__container"},[n("div",{staticClass:"modal__header"},[e._t("header")],2),n("div",{staticClass:"modal__body"},[e._t("body")],2),n("div",{staticClass:"modal__footer"},[e._t("footer"),e.showButton?n("button",{staticClass:"modal__defaultButton",on:{click:function(t){return e.$emit("close")}}},[e._v(" Close ")]):e._e()],2)])])])])},U=[],x={props:{showButton:{type:Boolean,default:!0}}},E=x,$=(n("2af7"),Object(a["a"])(E,j,U,!1,null,"7c517bcb",null)),N=$.exports,S={methods:{close:function(){this.$emit("close")},remove:function(){this.$emit("remove")}},props:{showModal:Boolean},components:{Modal:N}},B=S,F=(n("8b33"),Object(a["a"])(B,M,k,!1,null,"50e47696",null)),P=F.exports,A=n("2f62"),V={methods:{toEditPage:function(e){this.$router.push({name:"Edit",params:e})},toMainPage:function(){this.$router.push("/").catch((function(){}))}}},D={methods:{openModal:function(e){this.showModal[e]=!0;for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];n.length>0&&(this.showModal.args=n)},closeModal:function(e){this.showModal[e]=!1}}},T={data:function(){return{showModal:{delete:!1}}},methods:{removeUser:function(){var e=this.getUsers.indexOf(this.user);this.getUsers.splice(e,1),localStorage.setItem("users",JSON.stringify(this.getUsers))}},computed:Object(A["b"])(["getUsers","getValues"]),props:{user:Object},components:{DeleteModal:P},mixins:[V,D]},J=T,I=(n("1f40"),Object(a["a"])(J,C,O,!1,null,"2af7a2ba",null)),K=I.exports,R=(n("fb6a"),{methods:{toUpperCase:function(e){return e[0].toUpperCase()+e.slice(1)}}}),H={computed:Object(A["b"])(["getUsers","getValues"]),props:{isButtons:Boolean},components:{Table:w,TableButtons:K},mixins:[R]},L=H,W=(n("a6bf"),Object(a["a"])(L,m,b,!1,null,"61cdc228",null)),Y=W.exports,q=n("69c3"),z=n("d264"),G={methods:Object(h["a"])({},Object(A["c"])(["setUsers","setValues"])),computed:Object(A["b"])(["getUsers","getValues"]),components:{UsersTable:Y},mixins:[V],mounted:function(){var e=this,t=function(){e.setUsers(q),localStorage.setItem("users",JSON.stringify(q))},n=localStorage.getItem("users");n?this.setUsers(JSON.parse(n)):t(),this.setValues(z)}},Q=G,X=(n("e968"),Object(a["a"])(Q,f,p,!1,null,"4fc32b18",null)),Z=X.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"editPage"},[n("div",{staticClass:"editPage__form"},[n("EditForm",{attrs:{currentUser:e.user}})],1)])},te=[],ne=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("form",{staticClass:"editForm"},[s("div",{staticClass:"editForm__buttonsWrapper"},[s("button",{staticClass:"editForm__undoButton",on:{click:e.undo}},[s("img",{attrs:{src:n("8ba2"),alt:"Undo"}})])]),e._l(e.user,(function(t,o){return s("div",{key:o,staticClass:"editForm__field"},["id"!=o?s("div",{staticClass:"editForm__wrapper"},[s("label",{staticClass:"editForm__label"},[e._v(e._s(e.toUpperCase(o)))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user[o],expression:"user[key]"}],staticClass:"editForm__input",attrs:{placeholder:o},domProps:{value:e.user[o]},on:{change:function(t){return e.toCache()},input:function(t){t.target.composing||e.$set(e.user,o,t.target.value)}}}),e.getValues.includes(o)?e._e():s("button",{staticClass:"editForm__iconButton",on:{click:function(t){return e.openModal("delete",o)}}},[s("img",{attrs:{src:n("28e1"),alt:"Delete"}})])]):e._e()])})),s("button",{staticClass:"editForm__mainButton",on:{click:e.setUser}},[e._v("Edit")]),s("button",{staticClass:"editForm__mainButton",on:{click:function(t){return e.openModal("cancel")}}},[e._v(" Cancel ")]),s("button",{staticClass:"editForm__mainButton",on:{click:function(t){return e.openModal("add")}}},[e._v(" Add new field ")]),e.showModal.cancel?s("CancelModal",{on:{cancel:e.toMainPage,close:function(t){return e.closeModal("cancel")}}}):e._e(),e.showModal.error?s("ErrorModal",{attrs:{message:e.errorMessage},on:{close:function(t){return e.closeModal("error")}}}):e._e(),e.showModal.delete?s("DeleteModal",{on:{close:function(t){return e.closeModal("delete")},remove:function(t){return e.removeField()}}}):e._e(),e.showModal.add?s("AddField",{attrs:{user:e.user},on:{close:function(t){return e.closeModal("add")},update:e.toCache}}):e._e()],2)},se=[],oe=n("ade3"),re=n("b85c"),ae=n("2909"),ie=(n("4de4"),n("6062"),n("d3b7"),n("3ca3"),n("ddb0"),n("159b"),n("b64b"),n("d81d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{attrs:{showButton:!1},on:{close:e.close},scopedSlots:e._u([{key:"header",fn:function(){return[n("span",[e._v("Do you really want to cancel?")])]},proxy:!0},{key:"body",fn:function(){return[n("button",{staticClass:"modal__buttons",on:{click:e.cancel}},[e._v("Yes")]),n("button",{staticClass:"modal__buttons",on:{click:e.close}},[e._v("No")])]},proxy:!0}])})}),ce=[],ue={methods:{close:function(){this.$emit("close")},cancel:function(){this.$emit("cancel")}},props:{showModal:Boolean},components:{Modal:N}},le=ue,de=(n("9626"),Object(a["a"])(le,ie,ce,!1,null,"3382974b",null)),fe=de.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{on:{close:e.close},scopedSlots:e._u([{key:"header",fn:function(){return[n("span",[e._v("ERROR")])]},proxy:!0},{key:"body",fn:function(){return[n("div",{staticClass:"modal__text"},[e._v(e._s(e.message))])]},proxy:!0}])})},he=[],me={methods:{close:function(){this.$emit("close")}},props:{message:String},components:{Modal:N}},be=me,_e=Object(a["a"])(be,pe,he,!1,null,null,null),ve=_e.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{on:{close:e.close},scopedSlots:e._u([{key:"header",fn:function(){return[n("span",[e._v("Add new field. "),n("br"),n("small",[e._v("Example: E-mail:test@test.com")])])]},proxy:!0},{key:"body",fn:function(){return[n("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],staticClass:"modal__input",attrs:{type:"text"},domProps:{value:e.input},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.add(t)},input:function(t){t.target.composing||(e.input=t.target.value)}}}),e.error?n("span",{staticClass:"modal__error"},[e._v("Uncorrect data.")]):e._e()]},proxy:!0},{key:"footer",fn:function(){return[n("button",{staticClass:"modal__button",on:{click:e.add}},[e._v("Add")])]},proxy:!0}])})},ye=[],we=(n("1276"),n("ac1f"),n("498a"),{data:function(){return{input:"",error:!1}},methods:{add:function(){var e=this.parse(this.input);if(e){var t=Object.keys(e)[0];this.$set(this.user,t,e[t]),this.update(),this.close()}},parse:function(e){var t=e.split(":");return 2==t.length&&t[0]?Object(oe["a"])({},t[0].trim().toLowerCase(),t[1].trim().toLowerCase()):(this.showError(),null)},update:function(){this.$emit("update")},close:function(){this.$emit("close")},showError:function(){var e=this;this.error=!0,setTimeout((function(){e.error=!1}),2e3)}},props:{showModal:Boolean,user:Object},components:{Modal:N}}),Ce=we,Oe=(n("cb7c"),Object(a["a"])(Ce,ge,ye,!1,null,"599de1ef",null)),Me=Oe.exports,ke={methods:{isCorrectData:function(e,t){return e.every((function(e){return!!t[e]}))},getNewID:function(e){var t=1,n=e.length,s=n>0?e[n-1].id+t:0;return s},pushUser:function(e,t){e.id=this.getNewID(t),t.push(e)},showNewUsers:function(e){localStorage.setItem("users",JSON.stringify(e)),this.toMainPage()}}},je={data:function(){return{user:{},cache:[],isNewUser:!1,showModal:{cancel:!1,error:!1,delete:!1,add:!1,args:[]},errorMessage:""}},methods:Object(h["a"])(Object(h["a"])({},Object(A["c"])(["updateUser"])),{},{setUser:function(){var e=this.isCorrectData(this.getValues,this.user);e&&!this.isNewUser?(localStorage.setItem("users",JSON.stringify(this.getUsers)),this.toMainPage()):e&&this.isNewUser?this.createNewUser():(this.errorMessage="Fill in all the fields",this.openModal("error"))},createNewUser:function(){this.pushUser(this.user,this.getUsers),this.showNewUsers(this.getUsers)},toCache:function(){this.cache.push(Object(h["a"])({},this.user))},undo:function(){var e=this.cache;e.length>1&&(e.pop(),this.updateUser())},removeField:function(){var e=this.showModal.args[0];this.deleteField(e),this.closeModal("delete")},deleteField:function(e){this.$delete(this.user,e),this.toCache()},updateUser:function(){var e=this.cache,t=e[e.length-1],n=this.getAllKeyNames(this.user,n),s=this.getAllKeyNames(t,s),o=Object(ae["a"])(n).filter((function(e){return!s.has(e)}));for(var r in t)this.user[r]&&t[r]?this.user[r]=t[r]:!this.user[r]&&t[r]&&this.$set(this.user,r,t[r]);if(o.length>0){var a,i=Object(re["a"])(o);try{for(i.s();!(a=i.n()).done;){var c=a.value;this.$delete(this.user,c)}}catch(u){i.e(u)}finally{i.f()}}},getAllKeyNames:function(e){var t=new Set;return Object.keys(e).forEach((function(e){t.add(e)})),t}}),computed:Object(A["b"])(["getUsers","getValues"]),props:{currentUser:Object},components:{CancelModal:fe,ErrorModal:ve,DeleteModal:P,AddField:Me},mixins:[V,R,ke,D],mounted:function(){var e=Object.keys(this.currentUser),t=e.length;t?(this.user=this.currentUser,this.toCache()):(this.isNewUser=!0,this.user=Object.assign.apply(Object,Object(ae["a"])(this.getValues.map((function(e){return Object(oe["a"])({},e,"")})))))}},Ue=je,xe=(n("f934"),Object(a["a"])(Ue,ne,se,!1,null,"596fb44a",null)),Ee=xe.exports,$e={data:function(){return{user:{}}},components:{EditForm:Ee},created:function(){this.user=this.$route.params.user||{}}},Ne=$e,Se=(n("ebf1"),Object(a["a"])(Ne,ee,te,!1,null,"4faa522e",null)),Be=Se.exports;s["a"].use(d["a"]);var Fe=[{path:"/",name:"Home",component:Z},{path:"/edit",name:"Edit",component:Be,props:!0,beforeEnter:function(e,t,n){var s=t.name;"Home"==s?n():n("/")}}],Pe=new d["a"]({routes:Fe}),Ae=Pe;s["a"].use(A["a"]);var Ve=new A["a"].Store({state:{users:[],values:[]},mutations:{setUsers:function(e,t){e.users=t},setValues:function(e,t){e.values=t}},getters:{getUsers:function(e){return e.users},getValues:function(e){return e.values}}});s["a"].config.productionTip=!1,new s["a"]({router:Ae,store:Ve,render:function(e){return e(u)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},"619b":function(e,t,n){},"69c3":function(e){e.exports=JSON.parse('[{"name":"Kate","lastname":"Nilson","phone":"+380501112233","email":"work","id":0},{"name":"Mark","lastname":"Webber","phone":"+380501217233","id":1}]')},"87bf":function(e,t,n){},"8b33":function(e,t,n){"use strict";n("dceb")},"8ba2":function(e,t,n){e.exports=n.p+"img/undo-arrow.2cf22e0e.svg"},"909e":function(e,t,n){},9626:function(e,t,n){"use strict";n("f614")},9885:function(e,t,n){"use strict";n("4b32")},"9c0c":function(e,t,n){},a6bf:function(e,t,n){"use strict";n("909e")},a6c0:function(e,t,n){},cb7c:function(e,t,n){"use strict";n("d4b2")},d264:function(e){e.exports=JSON.parse('["name","lastname","phone"]')},d4b2:function(e,t,n){},dceb:function(e,t,n){},e968:function(e,t,n){"use strict";n("f1ba")},ebf1:function(e,t,n){"use strict";n("4b66")},f1ba:function(e,t,n){},f614:function(e,t,n){},f934:function(e,t,n){"use strict";n("87bf")}});
//# sourceMappingURL=app.d1e6e3de.js.map